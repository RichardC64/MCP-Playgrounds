<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
<script>
        window.onload = function () {
            console.log('Page chargée');
            const evtSource = new EventSource("/sse?action=MSFT");

            console.log("Création de la connexion SSE: ", evtSource);
            evtSource.onmessage = (event) => {
                console.log("Message reçu :", event.data);
                document.getElementById("messages").innerText = event.data;
            };

            evtSource.onerror = (event) => {
                console.error("Erreur de connexion SSE: ", event); {
                document.getElementById("error").innerText = event.data;
            };


        };
    }
    </script>

<div>Test</div>
<div id="messages"></div>
<div id="error"></div>
</body>
</html>